データベース構築のINPUTとOUTPUT
IMPUT : 要件一覧表 
OUTPUT: 一連のDDL

「手順」
要件⇨概念設計⇨論理設計⇨物理設計⇨DDL

概念設計
⇨要件に登場する情報をざっくり把握する。

論理設計
⇨RDBを使う前提で情報整理、具体化。
 どのようなテーブルを作り、どのような列を作るかを明らかにする。

物理設計
⇨論理設計から更に具体化する。列、インデックス、制約、型、デフォルト値など。要素を確定させる。

エンティティ・・・テーブルのようなもの
属性　　　　・・・テーブルの列のようなもの
関連　　　　・・・リレーションシップみたいなもの

STEP1
・12-2節から名詞を取り出す。

毎日、お金、出入り、記録
利用者、家族、入出金
費目、追加、入金、出金
明細、費目、入出金金額
タグ
日付、内容、コメント、合計金額


[練習]
・STEP1の用語から「人」「物」「事実」「行為」など用語を書き出す。
「人」
利用者、家族

「物」
お金

「事実」
明細、費目、コメント、内容、日付、合計金額、タグ

「行為」
入出金、追加、入金、出金

STEP2
他の用語の具体例は削除する。
算出可能なものも削除する。
「人」
利用者
「事実」
明細、費目、コメント、内容、日付
「行為」
入出金

STEP3
関連あるものでまとめる。
・利用者

・入出金、日付、内容、費目、利用者、コメント

・明細、日付、内容

・タグ、内容

12.4
-- 多対多の分解
中間テーブルを追加する

--キーの整理
主キーが備えるべき3つの特性
非NULL性
一意性
不変性

利用者　　　-　利用者ID、名前
入出金行為　-　入出金行為ID、日付、利用者ID（FK）、内容
入出金明細　-　入出金明細ID、入出金行為ID（FK）、費目ID(FK)、金額
タグ　　　　-　タグID、内容
タグ付け　　-　タグ付けID、タグID（FK）
費目　　　　-　費目ID、費目名、入出金区分

--テーブル設計の原則は、「1つの事実は1箇所に」

12.5
関数従属性 - ある列Aの値が決まれば、自ずと列Bの値も決まる、と言う関係。

テーブルにおける理想的な関数従属は、
全ての非キー列は、主キーにきれいに関数従属しているべき。




